<template>
    <div class="app-container">
        <!--筛选-->
        <el-row class="item-btm">
            <el-form :inline="true" :model="searchForm">
                <el-form-item label="姓名">
                    <el-input v-model="searchForm.name" placeholder="请输入" size="small" clearable></el-input>
                </el-form-item>
                <el-form-item>
                    <el-button type="primary" @click="initTableList" icon="el-icon-search" size="small"
                               :loading="tableLoading">搜索
                    </el-button>
                </el-form-item>
            </el-form>
        </el-row>

        <el-button class="mb8" type="primary" icon="el-icon-plus" size="mini" @click="handleAdd">新增</el-button>

        <!--列表-->
        <el-row>
            <el-table :data="tableList" border v-loading="tableLoading">
                <el-table-column type="index" label="序号" width="50" fixed="left"></el-table-column>
                <!--                <el-table-column prop="uid" label="编号ID" width="120"></el-table-column>-->
                <el-table-column prop="name" label="姓名" min-width="150"></el-table-column>
                <el-table-column prop="phone" label="手机号" min-width="180"></el-table-column>
                <el-table-column prop="idCardNo" label="身份证号" min-width="180"></el-table-column>
                <el-table-column prop="email" label="电子邮箱" min-width="180"></el-table-column>
                <el-table-column prop="smsCount" label="送达次数" align="center" width="180"></el-table-column>
                <el-table-column prop="categoryTitle" label="所属分类" align="center" width="180"></el-table-column>
                <el-table-column prop="createDate" label="创建时间" width="180"></el-table-column>
                <el-table-column label="操作" align="center" width="180" fixed="right">
                    <template slot-scope="scope">
                        <el-button type="text" icon="el-icon-view" v-hasPermi="['user-manage:user:detail']" size="mini"
                                   @click="toDetailPage(scope.row.id)">详情
                        </el-button>
                        <el-button type="text" icon="el-icon-view" v-hasPermi="['user-manage:user:edit']" size="mini"
                                   @click="handleUpdate(scope.row)">编辑
                        </el-button>
                        <el-button type="text" icon="el-icon-delete" v-hasPermi="['user-manage:user:del']" size="mini"
                                   @click="handleDelete(scope.row.id)">删除
                        </el-button>
                    </template>
                </el-table-column>
            </el-table>
        </el-row>

        <pagination
                v-show="total>0"
                :total="total"
                :page.sync="searchForm.pageNum"
                :limit.sync="searchForm.pageSize"
                @pagination="initTableList"
        />

        <el-dialog title="编辑" :visible.sync="dialogVisible" width="500px" append-to-body>
            <el-form ref="form" :model="formData" label-width="80px">
                <el-form-item label="姓名" prop="name">
                    <el-input v-model="formData.name" placeholder="请输入" clearable />
                </el-form-item>
                <el-form-item label="手机号" prop="phone">
                    <el-input v-model="formData.phone" placeholder="请输入" clearable />
                </el-form-item>
                <el-form-item label="身份证号" prop="idCardNo">
                    <el-input v-model="formData.idCardNo" placeholder="请输入" clearable />
                </el-form-item>
                <el-form-item label="电子邮箱" prop="email">
                    <el-input v-model="formData.email" placeholder="请输入" clearable />
                </el-form-item>
            </el-form>
            <div slot="footer" class="dialog-footer">
                <el-button type="primary" @click="handleSubmitForm">确 定</el-button>
                <el-button @click="dialogVisible = false">取 消</el-button>
            </div>
        </el-dialog>

    </div>
</template>

<script>

  export default {
    name: "user-list",
    data() {
      return {
        dialogVisible: false,
        formData: {

        },
        searchForm: {
          name: '',
          pageNum: 1,
          pageSize: 10
        },
        tableList: [],
        tableLoading: false,
        total: 0
      }
    },
    mounted() {
    },
    methods: {
      initTableList() {

      },
      handleAdd() {

      },
      handleSubmitForm() {

      },
      toDetailPage(id) {
        // TODO
      },
      handleUpdate(row) {

      },
      handleDelete(id) {

      }
    }
  }
</script>

<style lang="scss" scoped>

</style>
