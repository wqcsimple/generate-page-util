package com.hb.merchant.controller

import com.fly.base.common.DataResponse
import com.fly.base.controller.BaseController
import io.swagger.annotations.Api
import org.springframework.beans.factory.annotation.Autowired
import org.springframework.web.bind.annotation.RequestMapping
import org.springframework.web.bind.annotation.RequestMethod
import org.springframework.web.bind.annotation.RequestParam
import org.springframework.web.bind.annotation.RestController

/**
 *  Created by whis on 2019-06-18
 */
@RestController
@RequestMapping("/client/1/<%= controllerPath %>")
@Api(tags = [""])
class <%= modelName %>Controller : BaseController() {

    @Autowired
    lateinit var <%= functionName %>Service: <%= modelName %>Service

    @RequestMapping("list", method = [(RequestMethod.POST)])
    @ApiOperation("<%= tableComment %>列表")
    fun list(@RequestBody po: <%= modelName %>PO): DataResponse {
        val data = <%= functionName %>Service.select<%= modelName %>List(po)
        return DataResponse.create().putAll(data)
    }

    @RequestMapping("detail", method = [(RequestMethod.POST])])
    @ApiOperation("<%= tableComment %>详情")
    fun detail(@RequestBody po: <%= modelName %>PO): DataResponse {
        val data = <%= functionName %>Service.select<%= modelName %>Detail(po)
        return DataResponse.create().putAll(data)
    }

    @RequestMapping("delete", method = [(RequestMethod.POST)])
    @ApiOperation("<%= tableComment %>删除")
    fun delete(@RequestParam("id", defaultValue = "0") id: Long): DataResponse {
        val data = <%= functionName %>Service.delete<%= modelName %>(id)
        return DataResponse.create()
    }

    @RequestMapping("save", method = [(RequestMethod.POST)])
    @ApiOperation("<%= tableComment %>新增或修改")
    fun save(@RequestBody param: <%= modelName %>Param): DataResponse {
        val data = <%= functionName %>Service.save<%= modelName %>(param)
        return DataResponse.create().putAll(data)
    }

}
